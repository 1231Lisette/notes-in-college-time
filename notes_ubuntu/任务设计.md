redbook record

lerobot smolvla为什么弱

500M 版本：

- 测试了一下，结果识别到刀和叉，但实际只有叉。 
- 换了一个更加多物体的图片，500M 版本直接疯了。  那当 500M版本的 VLA 抓取的时候，也就无法定位哪个是刀了。  
- 换了一个 SmolVLM2.2B 版本的，识别多物体仍然有丢失的物体。  
- 大家也可以用LM Studio 测试一下不同 Backbone 自身的识别能力，苹果和Ubuntu 都可以  
- 我觉得VLM 规模应该有一个底线，参数太低反而误导action

---

训练的是记得调bs

---

机械臂抖动问题

解决了各位 我用的是Lerobot0.4.1

你在train的时候让你选择policy.path需要加载一下 smolvla_base 也就是官方的权重模型 

当时我没有指定 只使用policy_type只有一个空架子

所以才有问题 今中午试验成功了

> wtf type和path不一样吗

---

疑问： 

1. 推理如何知道任务结束的？ 
2. 数据集质量/数量对这几种policy分别有哪些影响？改如何采集高质量数据（如何选择randomization等）？
3. 数据采集和推理时的相机位置/视角不一致，会有影响吗？
4. pi0部署推理使用远程GPU，有没有现成的code？
5. 推理测试，如何加入语音控制？

---

低配多任务训练

设备：2个640*480相机，腕部handeye+侧边俯视fixed

1. pick the black tape and place it on  the pink plate
2. pick the banana and place it on  the pink plate

盘子固定位置

15组only tape固定位置to plate

15组only 固定方向banana固定位置to plate

15组桌上有两个水果，都是1和2的固定位置，但是抓apple to plate（固定方向banana）

15组桌上有两个水果，都是1和2的固定位置，但是抓banana to plate（固定方向banana）

10组only banana但是方向变化，位置固定to plate

10组桌上有两个水果，都是1和2的固定位置，但是抓banana to plate（方向变化）

10组桌上有两个水果，都是1和2的固定位置，但是抓apple to plate（banana方向变化）

最后merge成90集的数据集，一起训练

100Ksteps来训练，每10k保存一个checkpoint

---

```shell
ls /dev/ttyACM*
```

```shell
sudo chmod 666 /dev/ttyACM*
```

---

lerobot v4.0.1(收集数据版本)

```shell
lerobot-find-cameras
```

---

尝试一下摇操作，同时开摄像头

```shell
lerobot-teleoperate \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{ front: {type: opencv, index_or_path: 4, width: 640, height: 480, fps: 25}, side: {type: opencv, index_or_path: 6, width: 640, height: 480, fps: 25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true
```

,环境setup

图片*2

---

第一组 only banana 固定位置固定方向

图片*1

15 episode

收集数据命令

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_1 \
    --dataset.num_episodes=15 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the yellow banana and place it on the pink plate" \
    --dataset.push_to_hub=true
```

---

第二组 only tape固定位置

图片*1 

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_2 \
    --dataset.num_episodes=15 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the black tape and place it on the pink plate" \
    --dataset.push_to_hub=true
```

---

第三组 

图片*1

15组桌上有两个东西，都是1和2的固定位置，但是抓banana to plate（固定方向banana）

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_3 \
    --dataset.num_episodes=15 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the yellow banana and place it on the pink plate" \
    --dataset.push_to_hub=true
```

---

第四组

图片*1

15组桌子上有两个东西，都是固定位置，但是抓tape to plate（固定方向banana）

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_4 \
    --dataset.num_episodes=15 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the black tape and place it on the pink plate" \
    --dataset.push_to_hub=true
```

---

第5组

图片*

只有香蕉但是方向变化to plate

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_5 \
    --dataset.num_episodes=10 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the yellow banana and place it on the pink plate" \
    --dataset.push_to_hub=true
```

---

第6组

10组桌上有两个，都是1和2的固定位置，但是抓banana to plate（方向变化）

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_6 \
    --dataset.num_episodes=10 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the yellow banana and place it on the pink plate" \
    --dataset.push_to_hub=true
```



第7组

10组桌上有两个水果，都是1和2的固定位置，但是抓tape to plate（banana方向变化）

```bash
lerobot-record \
    --robot.type=so101_follower \
    --robot.port=/dev/ttyACM0 \
    --robot.id=R12253204 \
    --robot.cameras="{'handeye': {'type':'opencv', 'index_or_path':4, 'width':640, 'height':480, 'fps':25}, 'fixed': {'type':'opencv', 'index_or_path':6, 'width':640, 'height':480, 'fps':25}}" \
    --teleop.type=so101_leader \
    --teleop.port=/dev/ttyACM1 \
    --teleop.id=R07253204 \
    --display_data=true \
    --dataset.repo_id=Lisette1231/20251216so101_7 \
    --dataset.num_episodes=10 \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=30 \
    --dataset.single_task="pick the black tape and place it on the pink plate" \
    --dataset.push_to_hub=true
```



---

合并数据集命令并上传

```bash
# Merge multiple datasets into a single dataset.
lerobot-edit-dataset \
    --repo_id Lisette1231/20251216so101_merged \
    --operation.type merge \
    --operation.repo_ids "['Lisette1231/20251216so101_1', 'Lisette1231/20251216so101_2','Lisette1231/20251216so101_2','Lisette1231/20251216so101_2','Lisette1231/20251216so101_3','Lisette1231/20251216so101_4','Lisette1231/20251216so101_5','Lisette1231/20251216so101_6','Lisette1231/20251216so101_7']"
# 马的完了？

lerobot-edit-dataset \
    --repo_id Lisette1231/20251217so101_merged \
    --operation.type merge \
    --operation.repo_ids "['Lisette1231/20251216so101_1', 'Lisette1231/20251216so101_2','Lisette1231/20251216so101_3','Lisette1231/20251216so101_4','Lisette1231/20251216so101_5','Lisette1231/20251216so101_6','Lisette1231/20251216so101_7']"
    
hf upload Lisette1231/20251216so101_merged \
~/.cache/huggingface/lerobot/Lisette1231/20251216so101_merged \
--repo-type dataset

 
# 删除的
# Delete episodes and save to a new dataset (preserves original dataset)
lerobot-edit-dataset \
    --repo_id lerobot/pusht \
    --new_repo_id lerobot/pusht_after_deletion \
    --operation.type delete_episodes \
    --operation.episode_indices "[0, 2, 5]"
```

---

先给服务器挂个梯子

训练命令

```bash
lerobot-train \
  --dataset.repo_id=Lisette1231/20251216so101_merged \
  --policy.type=smolvla \
  --output_dir=outputs/train/20251216so101smolvla \
  --job_name=20251216so101smolvla \
  --policy.device=cuda \
  --wandb.enable=true \
  --policy.repo_id=Lisette1231/20251216so101smolvla \
  --policy.push_to_hub=true \
  --steps=100000 \
  --batch_size=32 \
  --save_freq=10000 \
  --resume=true

lerobot-train \
  --dataset.repo_id=Lisette1231/20251217so101_merged \
  --policy.type=smolvla \
  --output_dir=outputs/train/20251217so101smolvla \
  --job_name=20251217so101smolvla \
  --policy.device=cuda \
  --wandb.enable=true \
  --policy.repo_id=Lisette1231/20251217so101smolvla \
  --policy.push_to_hub=true \
  --steps=100000 \
  --batch_size=32 \
  --save_freq=10000
```

下面这个没成功

```bash
  File "/home/omnisky/lerobot/src/lerobot/datasets/utils.py", line 381, in get_safe_version
    raise RevisionNotFoundError(
huggingface_hub.errors.RevisionNotFoundError: Your dataset must be tagged with a codebase version.
            Assuming _version_ is the codebase_version value in the info.json, you can run this:
            ```python
            from huggingface_hub import HfApi

            hub_api = HfApi()
            hub_api.create_tag("Lisette1231/20251216so101_merged", tag="_version_", repo_type="dataset")
```

(lerobot) omnisky@omnisky:~/lerobot$ python
Python 3.10.18 | packaged by conda-forge | (main, Jun  4 2025, 14:45:41) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> from huggingface_hub import HfApi
>>> 
>>> hub_api = HfApi()
>>> hub_api.create_tag(
...     "Lisette1231/20251216so101_merged",
...     tag="_version_",
...     repo_type="dataset"
... )
>>> 
>>> exit()

```

```bash
mkdir -p /home/omnisky/.cache/huggingface/lerobot/Lisette1231
```

```bash
#本地执行
scp -r /home/pyy/.cache/huggingface/lerobot/Lisette1231/20251216so101_merged \
    omnisky@10.24.3.58:/home/omnisky/.cache/huggingface/lerobot/Lisette1231

scp -r /home/pyy/.cache/huggingface/lerobot/Lisette1231/20251217so101_merged \
    omnisky@10.24.3.58:/home/omnisky/.cache/huggingface/lerobot/Lisette1231
```

最好还是本地复制上去了

训练时服务器显存占用了大约7.4GB

---

机械臂抖动问题

解决了各位 我用的是Lerobot0.4.1

你在train的时候让你选择policy.path需要加载一下 smolvla_base 也就是官方的权重模型 

当时我没有指定 只使用policy_type只有一个空架子

所以才有问题 今中午试验成功了

```bash
lerobot-train \
  --dataset.repo_id=Lisette1231/20251216so101_merged \
  --policy.path=lerobot/smolvla_base \
  --output_dir=outputs/train/20251216so101smolvla1 \
  --job_name=20251216so101smolvla \
  --policy.device=cuda \
  --wandb.enable=true \
  --policy.repo_id=Lisette1231/20251216so101smolvla_addpath \
  --policy.push_to_hub=true \
  --steps=100000 \
  --batch_size=32 \
  --save_freq=10000
```

---

12.17这个模型怎么可以训练这么久wtf

```bash
scp -r /home/omnisky/lerobot/outputs/train/20251216so101smolvla \
    pyy@192.168.1.68:/home/pyy/lerobot/outputs/train
```

恢复训练

```
lerobot-train \
  --config_path=outputs/train/20251216so101smolvla/checkpoints/last/pretrained_model/train_config.json \
  --resume=true \
  --policy.push_to_hub=false
```

```
lerobot-train \
  --config_path=outputs/train/20251216so101smolvla1/checkpoints/last/pretrained_model/train_config.json \
  --resume=true \
  --policy.push_to_hub=false
```

```
lerobot-train \
  --config_path=outputs/train/20251217so101smolvla/checkpoints/last/pretrained_model/train_config.json \
  --resume=true \
  --policy.push_to_hub=false
```

20251216smolvla的loss值很早就卡在0.015/0.014了

```
huggingface-cli upload Lisette1231/20251216so101smolvla_60000 \
  outputs/train/20251216so101smolvla/checkpoints/060000/pretrained_model
```

---

推理

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':6, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 4, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=10 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251216so101smolvla1_last \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_20251218so101smovla\
  --dataset.push_to_hub=false
```

有一个额外的`--control.policy.path`参数，用于指定策略检查点的路径（例如`outputs/train/eval_act_so101_test/checkpoints/last/pretrained_model`）。如果您已将模型检查点上传到中心，也可以使用模型存储库（例如`${HF_USER}/act_so101_test`）。

  --policy.path=Lisette1231/20251216so101smolvla \

--policy.path=outputs/train/20251216smolvla/checkpoints/last/pretrained_model

--control.policy.path=outputs/train/20251216smolvla/checkpoints/last/pretrained_model

```
huggingface-cli upload Lisette1231/20251216so101smolvla_last \
  outputs/train/20251216so101smolvla1/checkpoints/last/pretrained_model
```

```
python3 src/lerobot/scripts/lerobot_record.py \
    --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
    --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
    --robot.disable_torque_on_disconnect=true \
    --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':6, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 4, 'width': 640, 'height': 480, 'fps': 25}}" \
    --display_data=true \
    --dataset.episode_time_s=60 \
    --dataset.reset_time_s=40 \
    --dataset.num_episodes=10 \
    --dataset.single_task="pick the black tape and place it on the pink plate" \
    --policy.path=Lisette1231/20251216so101smolvla1_last \
    --policy.device=cuda \
    --dataset.repo_id=Lisette1231/eval_20251218so101smovla \
    --dataset.push_to_hub=false
```

```
hf upload Lisette1231/20251216so101smolvla_last \
  outputs/train/20251216so101smolvla/checkpoints/last/pretrained_model
```

啊啊啊

没写推理记录

```
lerobot-train \
  --dataset.repo_id=Lisette1231/20251217so101_merged \
  --policy.path=lerobot/smolvla_base \
  --output_dir=outputs/train/20251218so101smolvla \
  --job_name=20251216so101smolvla \
  --policy.device=cuda \
  --wandb.enable=true \
  --policy.repo_id=Lisette1231/20251218so101smolvla_addpath \
  --policy.push_to_hub=true \
  --steps=30000 \
  --batch_size=32 \
  --save_freq=10000
```

---

12.18晚上

网友说的是对的

```bash
  --policy.path=lerobot/smolvla_base
```

只有这个有用

```bash
  --policy.type=smolvla
```

这个训练出来简直是依托是

 **Lisette1231/20251218so101smolvla_addpath**

```
hf upload Lisette1231/20251218so101smolvla_last_addpath \
  outputs/train/20251218so101smolvla/checkpoints/last/pretrained_model
```

---

推理实验

5集只有香蕉

```bash
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the yellow banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_onlybananafor5\
  --dataset.push_to_hub=true
```

推理显存只占1GB

会自动reducing的VLMlayer到16防止oom

episode0 前摇有点长，抓取抖动，可以完成任务

1 马上执行 完成任务

2 执行过程中迅速，抓取点哈放下点会慢，看似是“复刻了我的操作”完成了任务

3同2和1

4启动的时候抽风了。。。。。。起来了一次啊又突然回到原位又再次开始启动

5次成功率5/5

---

10集胶带和香蕉方向fixed

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=10 \
  --dataset.single_task="pick the yellow banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_both_fixed \
  --dataset.push_to_hub=true
```



episode 0 启动异常快速，抖动变小，较为丝滑的完成任务

1 抖动大了

2 转移过程中比较抖动

3 启动小小抽风了一下

4  同2

5 异常迅速的启动加2

6 同2

6/6

后面3次打算一集中连续抓取

7 启动慢了一点，一集中连续抓取4次，4/4

8 正常启动，正常抓取，5/5

9 4/4

100%

---

香蕉变换方向每个方向2集=10

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=10 \
  --dataset.single_task="pick the yellow banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_turn \
  --dataset.push_to_hub=true
```

位置1 偏竖

episode0 1/1

1 启动迅速 连续4次抓取 4/4

位置2 斜着

2 启动变慢了许多，不会自主启动，需要我的手去在相机前挥两下才行 1/1

2 前面那个不小心按到方向键了！！发现我的胶带位置没有归位

3 第一次失败了，把香蕉位置弄歪了，是没见过的位置，抓不起来 0/1

位置3 横着

4 正常抓取 1/1

5 连续抓取5次都ok 5/5

位置4  竖

6 1/1

7 异常快速启动 4/4

位置5 斜

8 1/1

9 6/6

---

香蕉随机位置与方向（未出现在数据集中的）5集

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the yellow banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_random_banana \
  --dataset.push_to_hub=true
```

0：第一次妹抓到，后面巧合抓到了

1 ：失败

2：第一次没抓到，第二次不像巧合的抓到了

3：一次抓到，竖着的看来是比较好

4：感觉刚好放到了正常横着的对称位置，所以抓到了

4/5

---

换single_task的描述（该拓展实验只针对胶带和香蕉都fixed的）

1. pick the yellow one and place it on the pink plate

```bash
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=1 \
  --dataset.single_task="pick the yellow one and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task1 \
  --dataset.push_to_hub=true
```

可以抓取

1. pick the banana and place it on the pink plate"

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=1 \
  --dataset.single_task="pick the banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task2 \
  --dataset.push_to_hub=true
```

可以抓取

1. pick the yellow and place it on the pink one

```bash
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=1 \
  --dataset.single_task="pick the yellow and place it on the pink one" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task3 \
  --dataset.push_to_hub=true
```

可以

1. pick the banana and place it on the plate

```bash
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=1 \
  --dataset.single_task="pick the banana and place it on the plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task4 \
  --dataset.push_to_hub=true
```

可以

---

加了一个桌子上一堆东西（）

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=3 \
  --dataset.single_task="pick the banana and place it on the plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task5 \
  --dataset.push_to_hub=true
```

````
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=3 \
  --dataset.single_task="pick the yellow banana and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_task6 \
  --dataset.push_to_hub=true
````



---

5集只有胶带

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_onlytape\
  --dataset.push_to_hub=true
```

0 启动要好久，还颠了一下，虽然抓取成功

1 启动发电了，没自主启动，我的手过去了才开始

2 同1

3 突然又可以自主启动了，但是等了很久

4 启动又颠了，一直没等得到它开始恩。。。。

---

5集胶带和香蕉方向fixed

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_bothfixedbutpicktape\
  --dataset.push_to_hub=true
```

01单次抓取正常2/2

2启动变慢，甚至无法启动的样子，于是我又开启了人工干预，就只需要手在摄像头前面晃一下1/1

3 等了一会后正常启动正常抓取1/1

4迅速启动迅速抓取 连续抓取 4/4

---

香蕉变换方向每个方向5集

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_turn_butpicktape\
  --dataset.push_to_hub=true
```

0启动迅速

1启动缓慢，并且有点发电

2 正常启动

3非常发电的启动

4 正常启动

5/5

---

香蕉随机方向位置（未出现在数据集中的）5集

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla_banana_random_butpicktape\
  --dataset.push_to_hub=true
```

0

1

2有点过分的摆放

3没忍住加了个了个苹果

4 离谱了

4/4

---

胶带随机位置5集

```
lerobot-record \
  --robot.type=so101_follower --robot.port=/dev/ttyACM0 --robot.id=R12253204 \
  --teleop.type=so101_leader --teleop.port=/dev/ttyACM1 --teleop.id=R07253204 \
  --robot.disable_torque_on_disconnect=true \
  --robot.cameras="{'handeye': {'type': 'opencv', 'index_or_path':4, 'width': 640, 'height': 480, 'fps': 25}, 'fixed': {'type': 'opencv', 'index_or_path': 6, 'width': 640, 'height': 480, 'fps': 25}}" \
  --display_data=true \
  --dataset.episode_time_s=60 \
  --dataset.reset_time_s=40 \
  --dataset.num_episodes=5 \
  --dataset.single_task="pick the black tape and place it on the pink plate" \
  --policy.path=Lisette1231/20251218so101smolvla_last_addpath \
  --policy.device=cuda \
  --dataset.repo_id=Lisette1231/eval_2025120so101smovla__randomtape\
  --dataset.push_to_hub=true
```

1/5

---

记录成功率与抓取效果

---

总结一下我遇到的bug和发现的问题

1. 不要用vs code远程ssh后下载整个模型文件，下不全！
2. 学会用tmux后台训练
3. 服务器和你本机的lerobot的版本要相同
4. 后面有一次推理，我的task描述是香蕉的，然后我的桌子上没有香蕉，smolvla还是会去按照个各种轨迹抓，额，所以它的视觉到底有没有作用？
