# background

1. stm32f103c8t6
   - 控制4个电机（已经写好pwm调节占空比控制电机）
   - 陶晶驰串口屏（usart1，还没重新制作显示xyz坐标的界面）
2. 树莓派4b+ubuntu20.04+ros noetic+t265(可以获取实时坐标)
3. t265已经配好相关ros和realsense-viewer环境
4. 树莓派和我的电脑用网线连接，我用远程桌面的方式进入ubuntu



# 待解决的问题（如何step by step）

1. 树莓派与32的通信（usart3）
   - 先让两者能通信成功（32给树莓派发信息，树莓派上可以看到；树莓派给32发信息，32usart1接串口助手也能看到；等tjc页面写好了之后会显示在屏幕上；同时两者发送信息给对方时，本身自己也要显示自身状态和对方的状态）
2. t265节点发布\camera\sample\odomh和\cmd_vel的话题，树莓派再写一个subsciber来订阅，订阅后将数据（实时坐标和速度）发送给stm32，stm32接收后初期先在电脑串口助手上显示，后期界面写好后显示在陶晶驰屏幕上；还有个问题就是车在移动。每秒坐标都会变化，32如何都能接收到且不丢包；后续陶晶驰的屏幕上还要显示车行驶的轨迹，gui应该怎么做 
3. 小车初始位置为（0,0），上位机基于ros发布命令：（0.3,0.5，250），意思为小车先前直走30cm后右转再先前走50cm，占空比为250，然后下发到stm32；32接收命令后开始行动，然后基于pid算法来走直线，到目的地；完成后再回传给上位机状态，已经到达目的地，同时在行驶过程中在陶晶驰实时显示当前的坐标（t265传来的）。这个第三步我是最懵的，不知道业务逻辑，和怎么调试。



- 2025.05.28 18:10

  到把代码中的中文全部改成英文（Claude）